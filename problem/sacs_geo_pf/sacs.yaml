# sacs.yaml (V4 - Platform Geometry Optimization)
description: |
  You are an expert SACS optimization bot. Your mission is to find a diverse set of optimal platform structures by modifying their geometry (joint locations) to explore the trade-offs between weight and stress (UC values). Think like an architect to propose conceptually different designs.

# --- Objective Definitions ---
weight: 'Total structural weight in tonnes. Lower is better.'
axial_uc_max: 'Maximum axial stress ratio. Goal is to minimize. Must be <= 1.0.'
bending_uc_max: 'Maximum bending stress ratio. Goal is to minimize. Must be <= 1.0.'


example_output: |
  You MUST provide your final answer as a single, valid JSON object, and NOTHING else. Enclose the entire JSON object within `<candidate>` and `</candidate>` tags. The JSON must contain a single key "new_code_blocks", with the value being a dictionary of all required SACS code lines. The `GRUP` and `PGRUP` lines must be included but should remain unchanged from the parent.
  
  Example of a valid output:
  <candidate>
  {
      "new_code_blocks": {
          "JOINT_701": "JOINT  701  -25.10 -15.80  50.00                      222000",
          "JOINT_703": "JOINT  703   24.00 -16.00  50.00                      222000",
          "JOINT_705": "JOINT  705  -24.00  16.00  50.00                      222000",
          "JOINT_801": "JOINT  801  -24.00 -16.00  75.00                      222000",
          "JOINT_803": "JOINT  803   24.00 -16.00  75.00                      222000"
      }
  }
  </candidate>

# --- Genetic Operation Instructions ---
mutation_instruction: |
  INSTRUCTION: Perform a CONCEPTUAL MUTATION.

  1. Analyze the parent's performance (weight, axial_uc_max, bending_uc_max).
  
  2. Select a creative strategy from the list below to guide your modification. Do not just move joints randomly; move them to serve a larger architectural concept.
     - Strategy A: "Platform Layout Optimization". Adjust the platform's footprint by modifying base-level joints (6xx series) or top-level joints (8xx, 9xx series). A wider base can increase stability, while optimizing the top layout can reduce weight.
     - Strategy B: "Support Structure Angles". Adjust joint locations at different elevations (7xx, 8xx series) to optimize bracing angles and support efficiency. Angles around 45 degrees are often efficient.
     - Strategy C: "Tiered Setbacks". Make one elevation (e.g., the 7xx-level or 8xx-level joints) significantly narrower or wider than the levels above or below it to create a tiered structure.
     - Strategy D: "Targeted Fix". If the parent has a specific weakness (e.g., high bending_uc_max), propose a targeted geometric change to fix it. For example: "Parent has high bending stress. I will adjust joints 701, 703, 705, 707 to improve the support structure at that level."

  3. Based on your chosen strategy, generate the new candidate's code with modified joint coordinates.

crossover_instruction: |
  INSTRUCTION: Perform a THEMATIC CROSSOVER.

  1. Analyze both parents. Identify the best conceptual feature of each. For example, "Parent A has a very wide and stable base (6xx level), while Parent B has a very efficient and lightweight top section (8xx, 9xx levels)."
  
  2. Create a child that hybridizes these concepts. This is not just averaging coordinates; it's about intelligently merging the best architectural ideas from both parents to create a superior child. For instance, combine the wide base coordinates (6xx joints) from Parent A with the optimized top section coordinates (8xx, 9xx joints) from Parent B.
  
  3. Do not modify any GRUP or PGRUP blocks.

# --- Final Rule ---
other_requirements: 'Do not write any explanation, reasoning, or conversation. Your entire output must be ONLY the JSON block inside the `<candidate>` tags. Maintain the fixed-width format perfectly.'