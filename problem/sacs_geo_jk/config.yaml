# config.yaml (Corrected Indentation)

exper_name: "SACS_Jacket_Geometry_Optimization"
description: "Optimizing SACS jacket structure geometry (joint locations) using a 3-objective approach: weight, max_axial_uc, and max_bending_uc."
save_dir: "./moo_results/"
save_suffix: "sacs_geo_jk"

resume: False

model:
  name: zgca,gemini-2.5-flash-nothinking
  base_url: http://35.220.164.252:3888/v1/chat/completions
  api_key: sk-UQSdTgxybYPRjg0WBq3v6NCxMMDNuIanMCdHy6mp9cGWPCTs
  prompt_module: Prompt
  experience_prob: 0.5
  crossover_prob: 0.7
  mutation_prob: 0.3
  explore_prob: 0
use_au: False

goals: [weight, axial_uc_max, bending_uc_max]
optimization_direction: [min, min, min]

prompt_info_path: ./problem/sacs_geo_jk/sacs.yaml
evalutor_path: problem.sacs_geo_jk.evaluator

sacs:
  project_path: "/mnt/d/wsl_sacs_exchange/sacs_project/Demo06_Geo"
  install_path: "C:\\Program Files (x86)\\Bentley\\Engineering\\SACS CONNECT Edition V16 Update 1"
  
  # [CRITICAL FIX] Fixed baseline weight for consistent normalization across all runs
  # This value was determined from NSGA2/SMSEMOA runs (both used ~66 tonnes)
  # DO NOT change this value unless you want to re-run ALL baseline algorithms
  baseline_weight_tonnes: 66.0
  
  # Weight normalization bounds (ratio-based when baseline_weight is available)
  weight_ratio_bounds: [0.5, 2.0]  # Allows weight to vary from 50% to 200% of baseline
  
  # Fallback weight bounds (used only if baseline_weight is not available)
  weight_bounds: [50.0, 5000.0]

  # This list is now empty to focus on geometry optimization, as discussed.
  optimizable_blocks: []

  # --- Optimizable joint coordinates ---
  optimizable_joints:
    # Format: "JOINT <ID>"
    - "JOINT 201"
    - "JOINT 203"
    - "JOINT 205"
    - "JOINT 207"
    - "JOINT 209"
    - "JOINT 210"
    - "JOINT 211"
    - "JOINT 212"
    - "JOINT 301"
    - "JOINT 303"
    - "JOINT 305"
    - "JOINT 307"
    - "JOINT 309"
    - "JOINT 401"
    - "JOINT 403"
    - "JOINT 405"
    - "JOINT 407"
    - "JOINT 409"
    - "JOINT 501"
    - "JOINT 503"
    - "JOINT 505"
    - "JOINT 507"
    - "JOINT 601"
    - "JOINT 603"
    - "JOINT 605"
    - "JOINT 607"

  # --- Joints with coupled coordinates ---
  coupled_joints:
    # Format: "master_joint_id": "slave_joint_id"
    "101": "102"
    "103": "104"
    "105": "106"
    "107": "108"
    "201": "202"
    "203": "204"
    "205": "206"
    "207": "208"
    "301": "302"
    "303": "304"
    "305": "306"
    "307": "308"
    "401": "402"
    "403": "404"
    "405": "406"
    "407": "408"

optimization:
  pop_size: 40
  eval_budget: 2000
  log_freq: 40
  mutation_strategy:
    joint_mutation_amplitudes:
      small: 0.5
      medium: 2.0
      large: 5.0

# Disable early stopping for baseline GA to ensure full 2000 evaluations
baseline_early_stopping:
  enable: False
